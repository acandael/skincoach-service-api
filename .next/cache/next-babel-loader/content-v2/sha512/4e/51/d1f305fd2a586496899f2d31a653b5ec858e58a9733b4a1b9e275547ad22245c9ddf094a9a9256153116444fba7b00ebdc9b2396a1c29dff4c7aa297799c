{"ast":null,"code":"function truncateDecimalsOfNumber(originalNumber, numberOfDecimals = 2) {\n  // toFixed() converts a number into a string by truncating it\n  // with the number of decimals passed as parameter.\n  const amountTruncated = originalNumber.toFixed(numberOfDecimals); // We use parseFloat() to return a transform the string into a number\n\n  return parseFloat(amountTruncated);\n}\n\nfunction calculateVoucherDiscountAmount({\n  voucher,\n  amount\n}) {\n  // We assume that the voucher has the right format.\n  // It either has `discountPercent` or `discountAmount`\n  const isDiscountAmount = Boolean(voucher.discountAmount);\n\n  if (isDiscountAmount) {\n    return voucher.discountAmount;\n  }\n\n  const amountToDiscount = amount * voucher.discountPercent / 100;\n  return truncateDecimalsOfNumber(amountToDiscount);\n}\n\nmodule.exports = {\n  calculateVoucherDiscountAmount\n};","map":{"version":3,"sources":["/Users/acandael/Sites/crystallize-app/src/services/basket-service/calculate-voucher-discount-amount.js"],"names":["truncateDecimalsOfNumber","originalNumber","numberOfDecimals","amountTruncated","toFixed","parseFloat","calculateVoucherDiscountAmount","voucher","amount","isDiscountAmount","Boolean","discountAmount","amountToDiscount","discountPercent","module","exports"],"mappings":"AAAA,SAASA,wBAAT,CAAkCC,cAAlC,EAAkDC,gBAAgB,GAAG,CAArE,EAAwE;AACtE;AACA;AACA,QAAMC,eAAe,GAAGF,cAAc,CAACG,OAAf,CAAuBF,gBAAvB,CAAxB,CAHsE,CAItE;;AACA,SAAOG,UAAU,CAACF,eAAD,CAAjB;AACD;;AAED,SAASG,8BAAT,CAAwC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAxC,EAA6D;AAC3D;AACA;AACA,QAAMC,gBAAgB,GAAGC,OAAO,CAACH,OAAO,CAACI,cAAT,CAAhC;;AAEA,MAAIF,gBAAJ,EAAsB;AACpB,WAAOF,OAAO,CAACI,cAAf;AACD;;AAED,QAAMC,gBAAgB,GAAIJ,MAAM,GAAGD,OAAO,CAACM,eAAlB,GAAqC,GAA9D;AAEA,SAAOb,wBAAwB,CAACY,gBAAD,CAA/B;AACD;;AAEDE,MAAM,CAACC,OAAP,GAAiB;AACfT,EAAAA;AADe,CAAjB","sourcesContent":["function truncateDecimalsOfNumber(originalNumber, numberOfDecimals = 2) {\n  // toFixed() converts a number into a string by truncating it\n  // with the number of decimals passed as parameter.\n  const amountTruncated = originalNumber.toFixed(numberOfDecimals);\n  // We use parseFloat() to return a transform the string into a number\n  return parseFloat(amountTruncated);\n}\n\nfunction calculateVoucherDiscountAmount({ voucher, amount }) {\n  // We assume that the voucher has the right format.\n  // It either has `discountPercent` or `discountAmount`\n  const isDiscountAmount = Boolean(voucher.discountAmount);\n\n  if (isDiscountAmount) {\n    return voucher.discountAmount;\n  }\n\n  const amountToDiscount = (amount * voucher.discountPercent) / 100;\n\n  return truncateDecimalsOfNumber(amountToDiscount);\n}\n\nmodule.exports = {\n  calculateVoucherDiscountAmount,\n};"]},"metadata":{},"sourceType":"script"}