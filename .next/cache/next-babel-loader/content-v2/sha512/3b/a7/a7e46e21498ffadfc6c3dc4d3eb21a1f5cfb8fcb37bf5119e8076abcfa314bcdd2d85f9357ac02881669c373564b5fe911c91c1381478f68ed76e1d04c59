{"ast":null,"code":"function truncateDecimalsOfNumber(originalNumber, numberOfDecimals = 2) {\n  // toFixed() converts a number into a string by truncating it\n  // with the number of decimals passed as parameter.\n  const amountTruncated = originalNumber.toFixed(numberOfDecimals); // We use parseFloat() to return a transform the string into a number\n\n  return parseFloat(amountTruncated);\n}\n\nfunction calculateVoucherDiscountAmount({\n  voucher,\n  amount\n}) {\n  // We assume that the voucher has the right format.\n  // It either has `discountPercent` or `discountAmount`\n  const discountAmount = voucher.components[1].content.selectedComponent.content.number;\n  const isDiscountAmount = Boolean(discountAmount);\n\n  if (isDiscountAmount) {\n    return discountAmount;\n  }\n\n  const amountToDiscount = amount * voucher.discountPercent / 100;\n  console.log(amountToDiscount);\n  return truncateDecimalsOfNumber(amountToDiscount);\n}\n\nmodule.exports = {\n  calculateVoucherDiscountAmount\n};","map":{"version":3,"sources":["/Users/acandael/Sites/crystallize-app/src/services/basket-service/calculate-voucher-discount-amount.js"],"names":["truncateDecimalsOfNumber","originalNumber","numberOfDecimals","amountTruncated","toFixed","parseFloat","calculateVoucherDiscountAmount","voucher","amount","discountAmount","components","content","selectedComponent","number","isDiscountAmount","Boolean","amountToDiscount","discountPercent","console","log","module","exports"],"mappings":"AACA,SAASA,wBAAT,CAAkCC,cAAlC,EAAkDC,gBAAgB,GAAG,CAArE,EAAwE;AACtE;AACA;AACA,QAAMC,eAAe,GAAGF,cAAc,CAACG,OAAf,CAAuBF,gBAAvB,CAAxB,CAHsE,CAItE;;AACA,SAAOG,UAAU,CAACF,eAAD,CAAjB;AACD;;AAED,SAASG,8BAAT,CAAwC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAxC,EAA6D;AAC3D;AACA;AAEA,QAAMC,cAAc,GAAGF,OAAO,CAACG,UAAR,CAAmB,CAAnB,EAAsBC,OAAtB,CAA8BC,iBAA9B,CAAgDD,OAAhD,CAAwDE,MAA/E;AAEA,QAAMC,gBAAgB,GAAGC,OAAO,CAACN,cAAD,CAAhC;;AAEA,MAAIK,gBAAJ,EAAsB;AACpB,WAAOL,cAAP;AACD;;AAED,QAAMO,gBAAgB,GAAIR,MAAM,GAAGD,OAAO,CAACU,eAAlB,GAAqC,GAA9D;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,gBAAZ;AAEA,SAAOhB,wBAAwB,CAACgB,gBAAD,CAA/B;AACD;;AAEDI,MAAM,CAACC,OAAP,GAAiB;AACff,EAAAA;AADe,CAAjB","sourcesContent":["\nfunction truncateDecimalsOfNumber(originalNumber, numberOfDecimals = 2) {\n  // toFixed() converts a number into a string by truncating it\n  // with the number of decimals passed as parameter.\n  const amountTruncated = originalNumber.toFixed(numberOfDecimals);\n  // We use parseFloat() to return a transform the string into a number\n  return parseFloat(amountTruncated);\n}\n\nfunction calculateVoucherDiscountAmount({ voucher, amount }) {\n  // We assume that the voucher has the right format.\n  // It either has `discountPercent` or `discountAmount`\n  \n  const discountAmount = voucher.components[1].content.selectedComponent.content.number;\n\n  const isDiscountAmount = Boolean(discountAmount);\n\n  if (isDiscountAmount) {\n    return discountAmount;\n  }\n\n  const amountToDiscount = (amount * voucher.discountPercent) / 100;\n\n  console.log(amountToDiscount)\n\n  return truncateDecimalsOfNumber(amountToDiscount);\n}\n\nmodule.exports = {\n  calculateVoucherDiscountAmount,\n};"]},"metadata":{},"sourceType":"script"}