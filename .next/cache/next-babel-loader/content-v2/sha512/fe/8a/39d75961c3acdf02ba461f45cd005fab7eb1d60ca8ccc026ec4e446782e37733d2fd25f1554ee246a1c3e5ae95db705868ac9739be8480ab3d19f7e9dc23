{"ast":null,"code":"import Cors from \"cors\";\nexport default function (req, res) {\n  return new Promise((resolve, reject) => {\n    Cors({\n      origin: true,\n      // Only allow requests with GET, POST and OPTIONS\n      methods: [\"GET\", \"POST\", \"OPTIONS\"],\n      credentials: true\n    })(req, res, result => {\n      if (result instanceof Error) {\n        return reject(result);\n      }\n\n      return resolve(result);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/acandael/Sites/crystallize-app/lib/cors.js"],"names":["Cors","req","res","Promise","resolve","reject","origin","methods","credentials","result","Error"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,eAAe,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACjC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCL,IAAAA,IAAI,CAAC;AACHM,MAAAA,MAAM,EAAE,IADL;AAEH;AACAC,MAAAA,OAAO,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAgB,SAAhB,CAHN;AAIHC,MAAAA,WAAW,EAAE;AAJV,KAAD,CAAJ,CAKGP,GALH,EAKQC,GALR,EAKcO,MAAD,IAAY;AACvB,UAAIA,MAAM,YAAYC,KAAtB,EAA6B;AAC3B,eAAOL,MAAM,CAACI,MAAD,CAAb;AACD;;AACD,aAAOL,OAAO,CAACK,MAAD,CAAd;AACD,KAVD;AAWD,GAZM,CAAP;AAaD","sourcesContent":["import Cors from \"cors\";\n\nexport default function (req, res) {\n  return new Promise((resolve, reject) => {\n    Cors({\n      origin: true,\n      // Only allow requests with GET, POST and OPTIONS\n      methods: [\"GET\", \"POST\", \"OPTIONS\"],\n      credentials: true,\n    })(req, res, (result) => {\n      if (result instanceof Error) {\n        return reject(result);\n      }\n      return resolve(result);\n    });\n  });\n}\n"]},"metadata":{},"sourceType":"module"}