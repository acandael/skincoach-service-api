{"ast":null,"code":"/**\n * Example of a voucher register\n * You can customise this to call an external service\n * or keep static vouchers like this\n */\nconst vouchers = [{\n  code: \"awesome-deal\",\n  discountAmount: null,\n  discountPercent: 99\n}, {\n  code: \"fair-deal\",\n  discountAmount: 300,\n  discountPercent: null\n}];\nmodule.exports = {\n  get({\n    code,\n    context\n  }) {\n    const {\n      user\n    } = context;\n    const voucher = vouchers.find(v => v.code === code); // Only vouchers for logged in users\n\n    if (!user.email) {\n      return null;\n    } // Lookup voucher in third party system\n    // Todo: example\n\n\n    return voucher;\n  }\n\n};","map":{"version":3,"sources":["/Users/acandael/Sites/webshop-anniek/crystallize-app/src/services/voucher-service/index.js"],"names":["vouchers","code","discountAmount","discountPercent","module","exports","get","context","user","voucher","find","v","email"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEA,MAAMA,QAAQ,GAAG,CACf;AACEC,EAAAA,IAAI,EAAE,cADR;AAEEC,EAAAA,cAAc,EAAE,IAFlB;AAGEC,EAAAA,eAAe,EAAE;AAHnB,CADe,EAMf;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,cAAc,EAAE,GAFlB;AAGEC,EAAAA,eAAe,EAAE;AAHnB,CANe,CAAjB;AAaAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,GAAG,CAAC;AAAEL,IAAAA,IAAF;AAAQM,IAAAA;AAAR,GAAD,EAAoB;AACrB,UAAM;AAAEC,MAAAA;AAAF,QAAWD,OAAjB;AACA,UAAME,OAAO,GAAGT,QAAQ,CAACU,IAAT,CAAeC,CAAD,IAAOA,CAAC,CAACV,IAAF,KAAWA,IAAhC,CAAhB,CAFqB,CAIrB;;AACA,QAAI,CAACO,IAAI,CAACI,KAAV,EAAiB;AACf,aAAO,IAAP;AACD,KAPoB,CASrB;AACA;;;AAEA,WAAOH,OAAP;AACD;;AAdc,CAAjB","sourcesContent":["/**\n * Example of a voucher register\n * You can customise this to call an external service\n * or keep static vouchers like this\n */\n\nconst vouchers = [\n  {\n    code: \"awesome-deal\",\n    discountAmount: null,\n    discountPercent: 99,\n  },\n  {\n    code: \"fair-deal\",\n    discountAmount: 300,\n    discountPercent: null,\n  },\n];\n\nmodule.exports = {\n  get({ code, context }) {\n    const { user } = context;\n    const voucher = vouchers.find((v) => v.code === code);\n\n    // Only vouchers for logged in users\n    if (!user.email) {\n      return null;\n    }\n\n    // Lookup voucher in third party system\n    // Todo: example\n\n    return voucher;\n  },\n};\n"]},"metadata":{},"sourceType":"script"}